

{% extends '_base.html' %}
{% load icon %}

{% block title %}{{ object.name }} Overview{% endblock title %}

{% block content %}


<h1><u>{{ object.name }} Overview</u><span class="icon"> <i class="devicon-{{ object.get_icon_string }}-plain"></i></span></h1>
<span style="float:right"><a href="{% url 'registration_info' %}">Status:</a>
       {% if class.confirmed %}
        {% icon 'check-circle' style="color:green" height="20" width="20" %}
    {% else %}
        {% icon 'x' style="color:red" height="20" width="20" %} 
    {% endif %}
    </span>
</span>
<p class="text-muted">{{ object.start_date_string }} - {{ object.end_date_string }} &middot; {{ class.first_day }}, {{ class.second_day }}<br>
{{ class.start_time_convert }} - {{ class.end_time_convert }}</p>
<p>Instructor: <a href="{% url 'instructors' %}">{{ object.instructor }}</a></p>

<p>Level: {{ object.difficulty }}</p>
<p>Cost: ${{ object.cost_decimal }}</p>

<p>
    {{ object.description }}
</p>

<h3>Course Syllabus</h3>
<p>
    {{ object.syllabus|safe }}
</p>

{% if object.past_payment_deadline %}

    <br>
    <div class="card text-center border-danger">
        <div class="card-body">
            <div class="tab1 tabcontent">
            
            <p class="card-text text-danger">{% icon 'alert-triangle' class="text-danger" %} The course deadline has past! {% icon 'alert-triangle' class="text-danger" %}</p>
            
            </div>
            
            
          
        </div>
      </div>
      <br>
      <br>
{% elif object in request.user.classes_paid_list %}
      <br>
    <p>Go to <a href="{% url 'lesson_list' class.slug %}">course</a>.</p>
{% elif request.user in object.users.all %}
      <br>
    <p><a href="{% url 'unregister' object.slug %}">Unregister</a>  |  Pay by: {{ object.payment_deadline_date }}</p> 
    
{% else %}
    {% if object.past_registration_deadline %}
    <br>
    <div class="card text-center border-danger">
        <div class="card-body">
            <div class="tab1 tabcontent">
            
            <p class="card-text" style="color:red">{% icon 'alert-triangle' style="color:red" %} The registration deadline has past! {% icon 'alert-triangle' style="color:red" %}</p>
            
            </div>
            
            
          
        </div>
      </div>
      <br>
    {% else %}
    <br>
    <p><a href="{% url 'register' object.slug %}">Register</a>  |  {% if object.confirmed %} Deadline: {{ class.start_date_format }} {% endif %}</p>
    <br>
    {% endif %}
{% endif %}

<p>Back to <a href="{% url 'class_list' %}">course list</a> or <a href="{% url 'registered_classes' %}">registered courses</a>.</p>
 
<br>
{% if request.user.is_staff %}
<a href="{% url 'class_update' object.slug %}" class='btn btn-info'>Edit Info</a>
{% endif %}
{% endblock content %}